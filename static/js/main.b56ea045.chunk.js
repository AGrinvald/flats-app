(this["webpackJsonpflats-app"]=this["webpackJsonpflats-app"]||[]).push([[0],{37:function(t,e,a){},58:function(t,e,a){},59:function(t,e,a){},60:function(t,e,a){},62:function(t,e,a){},63:function(t,e,a){},64:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(9),s=a.n(c),i=a(5),o=(a(37),function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,65)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,c=e.getLCP,s=e.getTTFB;a(t),n(t),r(t),c(t),s(t)}))}),d=a(7),u=a(24),l=a(3),j={REQUEST_APARTMENTS_START:"REQUEST_APARTMENTS_START",REQUEST_APARTMENTS_SUCCESS:"REQUEST_APARTMENTS_SUCCESS",REQUEST_APARTMENTS_FAILURE:"REQUEST_APARTMENTS_FAILURE",LIKE_APARTMENT:"LIKE_APARTMENT",UNLIKE_APARTMENT:"UNLIKE_APARTMENT"};function m(t){var e=t.attributes.address,a=e.city,n=e.street,r=e.house,c=t.attributes,s=c.title,i=c.area,o=c.unit,d=c.rooms;return{id:t.id,title:s,address:"".concat(a," ").concat(n,", ").concat(r),area:"".concat(i," ").concat(o),rooms:d,isLiked:!1}}function p(t,e){return t.map((function(t){return t.id===e?Object(l.a)(Object(l.a)({},t),{},{isLiked:!0}):t}))}function b(t,e){return t.map((function(t){return t.id===e?Object(l.a)(Object(l.a)({},t),{},{isLiked:!1}):t}))}var T={apartments:[],isLoading:!1,errorMessage:null},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j.REQUEST_APARTMENTS_START:return Object(l.a)(Object(l.a)({},t),{},{isLoading:!0});case j.REQUEST_APARTMENTS_SUCCESS:return Object(l.a)(Object(l.a)({},t),{},{isLoading:!1,apartments:e.payload});case j.REQUEST_APARTMENTS_FAILURE:return Object(l.a)(Object(l.a)({},t),{},{isLoading:!1,errorMessage:e.payload});case j.LIKE_APARTMENT:return Object(l.a)(Object(l.a)({},t),{},{apartments:p(t.apartments,e.payload)});case j.UNLIKE_APARTMENT:return Object(l.a)(Object(l.a)({},t),{},{apartments:b(t.apartments,e.payload)});default:return t}},_=Object(d.b)({apartmentsReducer:E}),O=Object(d.c)(_,Object(d.a)(u.a)),h=a(14),f=a.n(h),A=a(25),R=[{type:"flat",id:1,attributes:{title:"3-\u0445 \u043a\u043e\u043c\u043d\u0430\u0442\u043d\u0430\u044f \u043d\u0430 \u041c\u0438\u043d\u0441\u043a\u043e\u0439",rooms:3,address:{city:"Tyumen",street:"\u041c\u0438\u043d\u0441\u043a\u0430\u044f",house:"3a",room:"123"},area:134,unit:"\u043a\u0432\u043c"},relationships:{type:"agent",id:2,attributes:{first_name:"\u0412\u0430\u0441\u0438\u043b\u0438\u0439",last_name:"\u0414\u0440\u043e\u0437\u0434\u043e\u0432",middle_name:"\u041c\u0438\u0445\u0430\u0439\u043b\u043e\u0432\u0438\u0447"}}},{type:"flat",id:2,attributes:{title:"1 \u043a\u043e\u043c\u043d\u0430\u0442\u043d\u0430\u044f \u043d\u0430 \u0411\u0430\u0440\u0430\u0431\u0430\u0438\u043d\u0441\u043a\u043e\u0439",rooms:2,address:{city:"Tyumen",street:"\u0411\u0430\u0440\u0430\u0431\u0438\u043d\u0441\u043a\u0430\u044f",house:"12",room:"45"},area:34,unit:"\u043a\u0432\u043c"},relationships:{type:"agent",id:10,attributes:{first_name:"\u041c\u0438\u0445\u0430\u0438\u043b",last_name:"\u0418\u0432\u0430\u043d\u043e\u0432",middle_name:"\u0414\u0435\u043c\u0438\u0434\u043e\u0432\u0438\u0447"}}},{type:"flat",id:3,attributes:{title:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430 \u041b\u0435\u043d\u0438\u043d\u0430",rooms:4,address:{city:"Tyumen",street:"\u041b\u0435\u043d\u0438\u043d\u0430",house:"134",room:"24"},area:134,unit:"\u043a\u0432\u043c"},relationships:{type:"agent",id:44,attributes:{first_name:"\u0421\u0442\u0435\u043f\u0430\u043d",last_name:"\u041a\u0430\u0440\u0430\u0447\u0430\u0435\u0432",middle_name:"\u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447"}}}],N=a(26),S=a.n(N),x=a(6),y=a(29),g=(a(58),a(59),a(60),a(1));function v(){return Object(g.jsx)("div",{className:"loader",children:Object(g.jsx)("div",{})})}a(62);function L(t){var e=t.onClick,a=t.className,n=void 0===a?"":a,r=t.children;return Object(g.jsx)("button",{onClick:e,className:"like-button ".concat(n),children:r})}var M=a(27),U=a(28);a(63);function P(t){var e=t.apartment,a=Object(i.b)(),n=function(t){a(function(t){return{type:j.LIKE_APARTMENT,payload:t}}(t))},r=function(t){a(function(t){return{type:j.UNLIKE_APARTMENT,payload:t}}(t))};return Object(g.jsxs)("div",{className:"apartment-card",children:[Object(g.jsx)("h2",{className:"apartment-card__title",children:e.title}),Object(g.jsx)("h3",{className:"apartment-card__subtitle",children:e.address}),Object(g.jsxs)("ul",{className:"apartment-card__list",children:[Object(g.jsxs)("li",{className:"apartment-card__list-item",children:["\u041a\u043e\u043b-\u0432\u043e \u043a\u043e\u043c\u043d\u0430\u0442: ",Object(g.jsx)("span",{children:e.rooms})]}),Object(g.jsxs)("li",{className:"apartment-card__list-item",children:["\u041f\u043b\u043e\u0449\u0430\u0434\u044c: ",Object(g.jsx)("span",{children:e.area})]})]}),e.isLiked?Object(g.jsx)(L,{onClick:function(){return r(e.id)},className:"apartment-card__button",children:Object(g.jsx)(x.a,{icon:M.a})}):Object(g.jsx)(L,{onClick:function(){return n(e.id)},className:"apartment-card__button",children:Object(g.jsx)(x.a,{icon:U.a})})]})}function k(t){var e=t.apartments,a=t.isLoading,r=e.map((function(t,e){return Object(g.jsx)("div",{className:"apartment-list__item",children:Object(g.jsx)(P,{apartment:t})},t.id)}));return Object(g.jsxs)(n.Fragment,{children:[Object(g.jsx)("div",{className:"apartment-list",children:r.length>0&&r}),a&&Object(g.jsx)(v,{})]})}function C(){var t=Object(i.b)(),e=Object(i.c)((function(t){return t.apartmentsReducer.isLoading})),a=Object(i.c)((function(t){return t.apartmentsReducer.apartments})),r=Object(i.c)((function(t){return t.apartmentsReducer.errorMessage}));return Object(n.useEffect)((function(){t(function(){var t=Object(A.a)(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:j.REQUEST_APARTMENTS_START}),t.prev=1,t.next=4,S()({method:"GET",url:"https://httpbin.org/anything"});case 4:e((n=R.map(m),{type:j.REQUEST_APARTMENTS_SUCCESS,payload:n})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),e((a=t.t0.message,{type:j.REQUEST_APARTMENTS_FAILURE,payload:a}));case 10:case"end":return t.stop()}var a,n}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}())}),[]),Object(g.jsx)(n.Fragment,{children:Object(g.jsx)("main",{children:Object(g.jsx)("section",{className:"apartments",children:Object(g.jsxs)("div",{className:"apartments__container",children:[Object(g.jsx)("div",{children:Object(g.jsxs)("a",{href:"https://github.com/AGrinvald/flats-app",className:"apartments__link",children:[" ",Object(g.jsx)(x.a,{icon:y.a})]})}),Object(g.jsx)("div",{className:"apartments__title",children:"The Apartments"}),Object(g.jsx)(k,{isLoading:e,errorMessage:r,apartments:a,likeApartment:function(){}})]})})})})}var I=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(C,{})})};s.a.render(Object(g.jsxs)(i.a,{store:O,children:[Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(I,{})}),","]}),document.getElementById("root")),o()}},[[64,1,2]]]);
//# sourceMappingURL=main.b56ea045.chunk.js.map